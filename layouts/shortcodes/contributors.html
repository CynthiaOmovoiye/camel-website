<<<<<<< HEAD
<table class="tableblock stretch">
    <thead>
        <tr>
            <th>Avatar</th>
            <th>Name</th>
            <th>Organization</th>
        </tr>
    </thead>
    <tbody>
        {{ range  $page_count := (seq 10) }}
            {{ $page := string $page_count }}
                {{ $git_contributors := getJSON "https://api.github.com/repos/apache/camel/contributors?per_page=100&anon=1&page=" $page "&access_token=" $.Site.Params.token }}
                {{ range  $git_contributors }}
                    {{ if .url }}
                        {{ $user_url := getJSON .url }}
                        {{ if $user_url.name }}
                            <tr>
                                <td> <img width="50px" height="50px" src="{{ .avatar_url }}"/></td>
                                <td> {{ $user_url.name }} </td>
                                <td> {{ $user_url.company }} </td>
                    
                            </tr>

                            {{ else }}
                            <tr>
                                <td> <img width="50px" height="50px" src="{{ .avatar_url }}"/></td>
                                <td> {{ $user_url.login }} </td>
                                <td> {{ $user_url.company }} </td>
                    
                            </tr>
                            {{ end }}
                {{ end }}
            {{ end }}
            {{ end }}
        
    </tbody>
</table>


=======
{{ $urlPre := "https://api.github.com/repos" }}
{{ $username := "Apache" }}
{{ $repo := "camel-website"}}
{{ $token := ""}}
<!-- Enter token here -->
{{ $scope := "all"}}
{{ if eq $token "" }}
<p>Unable to get contributors details[set token]</p>
{{else}}
{{ $collaborators := getJSON $urlPre "/" $username "/" $repo "/collaborators?access_token=" $token  }}

<table class="tableblock frame-all grid-all stretch">
    <thead>
        <tr>
            <th>Name</th>
            <th>Organisation</th>
        </tr>
    </thead>
    <tbody>

        {{range $collaborators}}
        {{$user := getJSON .url}}
        {{if $user.name  }}
        <tr>
            <td> {{$user.name}} </td>
            <td> {{$user.company}} </td>
        </tr>
        {{end}}
        {{end}}
    </tbody>
</table>
{{end}}
>>>>>>> ff6de2af5118c1126028f209690dd9649f95cc23
